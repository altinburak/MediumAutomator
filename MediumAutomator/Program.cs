using Microsoft.AspNetCore;
using Microsoft.AspNetCore.Hosting;
using Newtonsoft.Json.Linq;
using System.Collections.Generic;
using System.IO;
using System.Net;
using System.Security;
using System.Text;
using System.Xml;

namespace MediumAutomator
{
    public class Program
    {
        public static void Main(string[] args)
        {
            try
            {
                var result = new List<string>();

                //using (WebClient client = new WebClient() { Credentials = new NetworkCredential("", "") })
                //{
                //    data = Encoding.UTF8.GetString(client.DownloadData("https://mail.google.com/mail/feed/atom"));
                //}
                var data = @"<?xml version='1.0' encoding='UTF-8'?><feed version='0.3' xmlns='http://purl.org/atom/ns#'><title>Gmail - Inbox for altinburak@gmail.com</title><tagline>New messages in your Gmail Inbox</tagline><fullcount>63</fullcount><link rel='alternate' href='https://mail.google.com/mail' type='text/html'/><modified>2019-03-07T23:29:34Z</modified><entry><title>Critical security alert</title><summary>Sign-in attempt was blocked altinburak@gmail.com Someone just used your password to try to sign in to your account from a non-Google app. Google blocked them, but you should check what happened. Review</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1695a7b2d2763f8a&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-07T23:26:55Z</modified><issued>2019-03-07T23:26:55Z</issued><id>tag:gmail.google.com,2004:1627391226841284490</id><author><name>Google</name><email>no-reply@accounts.google.com</email></author></entry><entry><title>Sigorta</title><summary>Merhaba Burak, Haklisin ben de tahmin etmiyordum acikcasi. Cok sonra basvurdugum 186trt basvurularinin hepsi sonuclandi fakat sizin basvurunuzla yakin donemde yaptigim (akredite olmayan sirketler icin)</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1695a76147580235&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-07T23:21:21Z</modified><issued>2019-03-07T23:21:21Z</issued><id>tag:gmail.google.com,2004:1627390876614918709</id><author><name>Duygu Cikla</name><email>duygu@merhabaavustralya.com</email></author><contributor><name>me</name><email>altinburak@gmail.com</email></contributor></entry><entry><title>Projects We Love: Throw burritos at your friends</title><summary>in the new game from “Exploding Kittens” creators Elan Lee and Matthew Inman. ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌ ‌</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1695a713875e53ac&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-07T23:16:03Z</modified><issued>2019-03-07T23:16:03Z</issued><id>tag:gmail.google.com,2004:1627390542681625516</id><author><name>Kickstarter</name><email>email@em.kickstarter.com</email></author></entry><entry><title>You&#39;ve been lied to</title><summary>Hey, If you&#39;re like most people, you were brought up to believe success begets happiness. In other words, if you get that promotion, get accepted into that Ivy League college, lose 14 pounds … THEN</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1695a673e9a8aa44&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-07T23:05:09Z</modified><issued>2019-03-07T23:05:09Z</issued><id>tag:gmail.google.com,2004:1627389857135897156</id><author><name>Sam Thomas Davies</name><email>sam@samuelthomasdavies.com</email></author></entry><entry><title>📐 Meet Apply Pixels 2.0</title><summary>friend, today we&#39;re excited to introduce Apply Pixels 2.0 — a new chapter in our efforts to empower creatives through resources. Apply Pixels Newsletter March 2019 Meet Apply Pixels 2.0 Hi friend,</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1695a57d988c22f8&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-07T22:48:20Z</modified><issued>2019-03-07T22:48:20Z</issued><id>tag:gmail.google.com,2004:1627388799213118200</id><author><name>Apply Pixels</name><email>desk@pixelresort.com</email></author></entry><entry><title>Your Arc Energy Invoice – Customer Number 20004500</title><summary>Hello and thank you for being an Arc Energy customer. Your energy invoice is ready and is attached as a PDF for your convenience. We are pleased to advise you that your Arc Energy pay on time discount</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=16958277da79a6d7&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-07T12:36:16Z</modified><issued>2019-03-07T12:36:16Z</issued><id>tag:gmail.google.com,2004:1627350291642427095</id><author><name>Arc Energy Billing</name><email>billing@arcenergygroup1.com.au</email></author></entry><entry><title>tree of life movie</title><summary>https://www.rottentomatoes.com/m/the_tree_of_life_2011 Burak Altın Senior Software Engineer m:+61401 095 510 | e:altinburak@gmail.com | w:https://www.linkedin.com/in/altinburak</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=16956cd5c7f1852d&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-07T06:18:12Z</modified><issued>2019-03-07T06:18:12Z</issued><id>tag:gmail.google.com,2004:1627326505802630445</id><author><name>me</name><email>altinburak@gmail.com</email></author></entry><entry><title>Bunu arada kullanayim bari</title><summary>Sent with ProtonMail Secure Email.</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1694c6606dd682fb&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-05T05:49:08Z</modified><issued>2019-03-05T05:49:08Z</issued><id>tag:gmail.google.com,2004:1627143482849526523</id><author><name>Burak Altin</name><email>altinburak@protonmail.com</email></author></entry><entry><title>Dene</title><summary>https://videouret.com/uretec/damla Burak Altın Senior Software Engineer m:+61401 095 510 | e:altinburak@gmail.com | w:https://www.linkedin.com/in/altinburak</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1694c4787342f193&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-03-05T05:15:49Z</modified><issued>2019-03-05T05:15:49Z</issued><id>tag:gmail.google.com,2004:1627141386996478355</id><author><name>me</name><email>altinburak@gmail.com</email></author></entry><entry><title>Favorite tweet by @koziLife</title><summary>Yapamadığınız seyleri yapanları görünce bok atmayı bırakıp alkisladigimiz gün muasır medeniyet seviyesine ulaşacağımız gündür... — Meryem Alay (@koziLife) February 23, 2019 via Twitter https://twitter.</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1691abacafad3ec9&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-02-23T14:20:43Z</modified><issued>2019-02-23T14:20:43Z</issued><id>tag:gmail.google.com,2004:1626269698627550921</id><author><name>Twitter via IFTTT</name><email>action@ifttt.com</email></author></entry><entry><title>Favorite tweet by @tasty</title><summary>Fried Mac &#39;n&#39; Cheese Sticks pic.twitter.com/pw6ik35Tq3 — Tasty (@tasty) February 21, 2019 via Twitter https://twitter.com/tasty http://twitter.com/tasty/status/1098628511886135296 February 21,</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=16912b182b5b0a13&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-02-22T00:53:36Z</modified><issued>2019-02-22T00:53:36Z</issued><id>tag:gmail.google.com,2004:1626128323264055827</id><author><name>Twitter via IFTTT</name><email>action@ifttt.com</email></author></entry><entry><title>Favorite tweet by @mashable</title><summary>Someone reinvented the paper plane pic.twitter.com/7zs53kbPvi — Mashable (@mashable) February 19, 2019 via Twitter https://twitter.com/mashable http://twitter.com/mashable/status/1097995997886599168</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1690896c73301b71&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-02-20T01:48:12Z</modified><issued>2019-02-20T01:48:12Z</issued><id>tag:gmail.google.com,2004:1625950564362754929</id><author><name>Twitter via IFTTT</name><email>action@ifttt.com</email></author></entry><entry><title>Favorite tweet by @hibrahimkalkan</title><summary>The Ultimate Guide to @GraphQL development with C#/ASP.NET Core by @alperebicoglu #graphql #aspnetcore https://t.co/77nU1JbkRg — Halil İbrahim Kalkan (@hibrahimkalkan) February 15, 2019 via Twitter</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=168f446d4eeb37e0&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-02-16T03:08:29Z</modified><issued>2019-02-16T03:08:29Z</issued><id>tag:gmail.google.com,2004:1625593226770200544</id><author><name>Twitter via IFTTT</name><email>action@ifttt.com</email></author></entry><entry><title>Favorite tweet by @ugurerdal</title><summary>React native icin bir npm package gelistirdim instagram story clonuda diyebiliriz. Incelemek icin buradan; https://t.co/Npr8gttBzT #reactnative #reactjs I created a npm package for using instagram</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=168f03c925142ed8&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-02-15T08:18:48Z</modified><issued>2019-02-15T08:18:48Z</issued><id>tag:gmail.google.com,2004:1625522152949427928</id><author><name>Twitter via IFTTT</name><email>action@ifttt.com</email></author></entry><entry><title>Favorite tweet by @mscott</title><summary>&#39;Dramatically effective&#39;: five schools top most important HSC honours https://t.co/KdNgVgIMQ4 via @smh — Mark Scott (@mscott) January 24, 2019 via Twitter https://twitter.com/mscott http://</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1687df45047fd31f&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-01-24T03:43:10Z</modified><issued>2019-01-24T03:43:10Z</issued><id>tag:gmail.google.com,2004:1623511678211576607</id><author><name>Twitter via IFTTT</name><email>action@ifttt.com</email></author></entry><entry><title>Burak, your recommendation for Jan 21st is...</title><summary>Scott Dinsmore quit a job that made him miserable, and spent the next four years wondering how to find work that was joyful and meaningful. He shares what he learned in this deceptively simple talk</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1687246d61c330cb&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2019-01-21T21:17:51Z</modified><issued>2019-01-21T21:17:51Z</issued><id>tag:gmail.google.com,2004:1623306242900570315</id><author><name>TED Recommends</name><email>recommendations@ted.com</email></author></entry><entry><title>400 Instagram Templates Bundle, Only $15: Dimensions 1080x1080 Posts, 1080 x1920 Stories, Layered &amp; Organized PSD Files, Free Fonts Download Links Included</title><summary>View in browser → Image Facebook Twitter Dribbble Behance Instagram bundle: 200 posts &amp; 200 story templates with clean, trendy designs! Upgrade your social media game with 400 premium Instagram</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1678663eed24e6e1&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2018-12-07T01:59:15Z</modified><issued>2018-12-07T01:59:15Z</issued><id>tag:gmail.google.com,2004:1619156486492317409</id><author><name>ByPeople &amp; ShockFam.</name><email>bp@bypeople.com</email></author></entry><entry><title>Devine Rental Newsletter - 7th December 2018</title><summary>Dear Devine Property, Welcome to December! Finding Quality Tenants With vacancy rates in much of Sydney edging higher, it&#39;s getting increasingly difficult for landlords to find high-quality tenants</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=1678645ac011c354&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2018-12-07T01:26:12Z</modified><issued>2018-12-07T01:26:12Z</issued><id>tag:gmail.google.com,2004:1619154406971917140</id><author><name>Devine Property Man.</name><email>marketing@devinere.sendproperty.com.au</email></author></entry><entry><title>Plan your NYE with public transport and road closure information</title><summary>2018 Sydney New Year&#39;s Eve View online Welcome to SYDNYE 2018 Public transport and road closure information now live. We&#39;re ready for the best New Year&#39;s Eve celebrations in the world. Make</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=167861311907b6c1&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2018-12-07T00:30:55Z</modified><issued>2018-12-07T00:30:55Z</issued><id>tag:gmail.google.com,2004:1619150929540921025</id><author><name>City of Sydney</name><email>mail@cityofsydney.nsw.gov.au</email></author></entry><entry><title>Favorite tweet by @jeandpardaillan</title><summary>1. Tarih diye paylaşılan şeylere bakıyorum da çoğunluğu yanlış; ama daha da vahimi olabilme ihtimali sıfır olan şeyler. Bunlardan bir iki örnek vermek istiyorum. Takip eden tweetleri okuduktan sonra</summary><link rel='alternate' href='https://mail.google.com/mail?account_id=altinburak@gmail.com&amp;message_id=167834d26d00f8f6&amp;view=conv&amp;extsrc=atom' type='text/html'/><modified>2018-12-06T11:35:30Z</modified><issued>2018-12-06T11:35:30Z</issued><id>tag:gmail.google.com,2004:1619102144416250102</id><author><name>Twitter via IFTTT</name><email>action@ifttt.com</email></author></entry></feed>";

                var xmlDoc = new XmlDocument();
                xmlDoc.LoadXml(data);

                var list = xmlDoc.ChildNodes[1].ChildNodes;


                for (int i = 0; i < list.Count; i++)
                {
                    if (list[i].Name == "entry")
                    {
                        result.Add(list[i].ChildNodes[0].InnerText);
                    }
                }

                var a = "";


            }
            catch (System.Exception ex)
            {
                var b = ex.ToString();
            }

            CreateWebHostBuilder(args).Build().Run();

        }

        public static IWebHostBuilder CreateWebHostBuilder(string[] args) =>
            WebHost.CreateDefaultBuilder(args)
                .UseStartup<Startup>();
    }
}
